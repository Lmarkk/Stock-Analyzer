<div class="container">
  <h1>{{title}}</h1>
  <div class="input-group mb-3">
    <div class="custom-file">
      <input
        type="file"
        class="custom-file-input"
        id="inputGroupFile01"
        #csvReader
        name="Upload CSV"
        (change)="uploadListener($event)"
        accept=".csv" />
      <label class="custom-file-label" for="inputGroupFile01">Choose CSV file</label>
    </div>
  </div>


  <div *ngIf="isLoaded">
    <h5>{{fileName}}</h5>

    <hr/>

    <form>
      <p>Bullish trend analysis</p>
      <div class="form-group">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="bullish-startingdate-addon">Starting date</span>
          </div>
          <input type="date"
                 #bullishStartDate
                 class="form-control"
                 placeholder="Starting date"
                 aria-label="Bullish trend starting date"
                 aria-describedby="bullish-startingdate-addon">
        </div>
      </div>
      <div class="form-group">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="bullish-endingdate-addon">Ending date</span>
          </div>
          <input type="date"
                 #bullishEndDate
                 class="form-control"
                 placeholder="Ending date"
                 aria-label="Bullish trend ending date"
                 aria-describedby="bullish-endingdate-addon">
        </div>
      </div>
      <button class="btn btn-primary"
              type="button"
              (click)="calculateBullish(bullishStartDate.value, bullishEndDate.value)">
        Calculate
      </button>
      <span>Longest bullish trend: {{bullishDaysInARow}} days</span>
    </form>

    <hr/>

    <form>
      <p>Highest trade volume & price change</p>
      <div class="form-group">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="tradevolume-startingdate-addon">Starting date</span>
          </div>
          <input type="date"
                 #volumeStartDate
                 class="form-control"
                 placeholder="Starting date"
                 aria-label="Volume & price change starting date"
                 aria-describedby="tradevolume-startingdate-addon">
        </div>
      </div>
      <div class="form-group">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="tradevolume-endingdate-addon">Ending date</span>
          </div>
          <input type="date"
                 #volumeEndDate
                 class="form-control"
                 placeholder="Ending date"
                 aria-label="Volume & price change ending date"
                 aria-describedby="tradevolume-endingdate-addon">
        </div>
      </div>
      <button class="btn btn-primary"
              type="button"
              (click)="calculateVolumePriceChanges(volumeStartDate.value, volumeEndDate.value)">
        Calculate
      </button>

      <table class="table">
        <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Volume</th>
          <th scope="col">Price change ($)</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of volumesAndPricesList">
          <th scope="row">{{item.date.toDateString()}}</th>
          <td>{{item.volume}}</td>
          <td>{{item.high - item.low}}</td>
        </tr>
        </tbody>
      </table>
    </form>
  </div>
</div>



